::: {.callout-warning}
This is a work-in-progress document. Handle with care!
:::

::: {.content-visible when-format="html"}
{{< include style/macros-html.md >}}
:::
{{< include style/macros.md >}}

## Summary {.unnumbered .unlisted}

We study the *spectroscopy problem* that asks which notions from a spectrum of behavioral equivalences relate a pair of states in a transition system.
In particular, we solve the problem for finite-state processes and the *weak spectrum*, a hierarchy of semantical models of how to understand nondeterminism and internal behavior in concurrent programs.
On our way there, we also treat the *strong spectrum* of concrete processes as well as applications of generalized equivalence checking in verification and concurrency theory.

The approach relies on a *quantitative understanding of spectra* in terms of how many syntactic features of Hennessy–Milner modal logic are used to characterize equivalences.
We prove the equivalences and preorders to be captured by *spectroscopy games* where energy budgets bound how much syntax an attacker may use to express differences of processes.
Optimal attack strategies correspond to *minimal distinguishing formulas*.
The spectroscopy problem thus reduces to the problem of computing *minimal attacker-winning budgets* in spectroscopy games.
We provide an algorithm to compute such budgets on a wider class of *Galois energy games*.
The resulting spectroscopy algorithms are exponential for the $\complexityname{PSPACE}$-hard spectrum of equivalence problems, but can be instantiated to polynomial-time solutions on the $\complexityname{P}$-easy part.

We implement the spectroscopy procedure in {{< equivio >}}, a *web tool* following the tradition of the Concurrency Workbench.
Using it, we can *check for dozens of equivalences* at once.
We apply the spectroscopy approach to small *case studies from verification and translation of concurrent programs*.
Core parts of the thesis are supported by an *Isabelle/HOL-formalization*.

\newpage
 \thispagestyle{empty}

::: {.content-visible when-format="html"}
----

### Dedication {.unnumbered .unlisted}
:::

> To the memory of **Mark** Alexander **Sibly**,
> 
> `\raggedleft`{=latex}
> creator of the programming language in which I wrote my first concurrent program, and a profound influence on me `\\`{=latex} and so many others!

\vfill

### Acknowledgments {.unnumbered .unlisted}

This research project started due to Covid, in a way.
Because of the pandemic, CONCUR'20 was taking place as an online event.
And one afternoon, after listening to the talks, sitting alone in my office, I started to [implement a small idea](https://github.com/benkeks/equivalence-fiddle/commit/f188bc9a1ca18d4c27054bfbb8d652322b57f58f) on generalizing the bisimulation game.
Last year, the office was closed---together with the whole building---because of rusty pipes.
Unfortunately, that's not the only thing that's been going wrong, since.
Crazy times!

That this research project has still reached the stage of a (soon to be submitted) PhD thesis, is thanks to many great people (sorted by category, mostly in order of appearance).

- **Environment:**
  Uwe Nestmann and my colleages at the Modelle und Theorie Verteilter Systeme group, especially my lovely office mates Edgar Arndt, Valeria Zahoransky, and Alex Wiemhoefer.
  My “Sunday friends” and my parents.
- **Hospitality:**
  The organizers of the VTSA Summer School 2021 in Liège.
  Rob van Glabbeek and the Laboratory for Foundations of Computer Science for my 2023 stay in Edinburgh.
  Julia (and Fréd and kids) as well as Rosi for hosting me during visits in Paris and Oldenburg.
  David N. Jansen together with Lijun Zhang's group at the Institute of Software, Chinese Academy of Sciences for my 2024 stay in Beijing.
- **Collaboration:**
  David N. Jansen, who discovered and corrected cruicial flaws in my ideas. 
  Caroline Lemke, who found out why “my” energy games are indeed decidable. 
  And many more marvelous students and collaborators (listed in @sec-artifacts-papers).
- **Co-writing:** Schrippe, Baum, Alina, and Anna.
- **Feedback** on parts of this thesis:
  Nadine Karsten,
  Caroline Lemke,
  Andrei Aleksandrov,
  Dominik Geißler,
  Uli Fahrenberg,
  Karl Mattes,
  (you might soon appear here, dearest test reader)

```{=latex}
{
\newpage
\hypersetup{linkcolor=black}
\setstretch{1.0}
\tableofcontents
\setstretch{1.1}
}
\mainmatterforreal

\newcommand{\partfigure}{\partfigureone}
\newcommand{\partfigureone}{
  \begin{adjustbox}{max width=.8\textwidth, center}
    \begin{tikzpicture}[rounded corners = 5, outer sep=1mm]
    \tikzstyle{every node}=[font=\normalsize, align=center]
      \draw[thick, gray, fill=gray] (-.5,-.7) rectangle (12.5,-.3);
      \draw[thick, fill=white] (0,1.5) rectangle (12,-0.5);
      \node at (6,-0.25) {\textbf{Preliminaries} \quad Chapter \ref{sec-preliminaries}};
      \draw  (0.1,1.4) rectangle  node {Behavior \& equivalences} (3.95,0.1);
      \draw  (4.05,1.4) rectangle  node {Modal logics}
      (7.95,0.1);
      \draw  (8.05,1.4) rectangle  node {Games} (11.9,0.1);

      \draw[thick]  (1,3) rectangle  node {\textbf{Strong spectrum} \\ \textbf{\& spectroscopy problem} \\ Chapter~\ref{sec-spectrum}} (8,1.5);
      %\draw[thick] (8,1.5) -- (8,3) -- (6,3) -- (6,4.5) -- (12,4.5) -- (12,1.5) -- cycle;
      % \node at (9,3.75) {\textbf{Approach: Equivalence} \\ \textbf{problems as energy games} \\ Chapter \ref{sec-approach}};
      %\draw (8.1,2.9) rectangle node {Energy games} (11.9,1.6);

      %\draw[thick] (2,3) -- (2,6) -- (12,6) -- (12,4.5) -- (6,4.5) -- (6,3) -- cycle;
      %\node at (4,4.5) {\textbf{Spectroscopy of} \\ \textbf{the strong spectrum} \\ Chapter \ref{sec-strong-spectroscopy}};
      %\draw (8.1,5.9) rectangle node {Individual checkers} (11.9,4.6);

      %\draw[thick] (0,1.5) -- (0,6) -- (2,6) -- (2,3) -- (1,3) -- (1,1.5) -- cycle;
      %\node at (1,4.5) {\textbf{Weak} \\ \textbf{spectrum} \\ Chapter \ref{sec-weak-spectrum}};

      %\draw[thick] (0,7.5) rectangle node {\textbf{Weak spectroscopy} \\ Chapter \ref{sec-weak-spectorscopy}} (12,6);
    \end{tikzpicture}
  \end{adjustbox}
  \renewcommand{\partfigure}{\partfiguretwo}
}
\newcommand{\partfiguretwo}{
  \begin{adjustbox}{max width=.8\textwidth, center}
    \begin{tikzpicture}[rounded corners = 5, outer sep=1mm]
    \tikzstyle{every node}=[font=\normalsize, align=center]
      \draw[thick, gray, fill=gray] (-.5,-.7) rectangle (12.5,-.3);
      \draw[thick, fill=white] (0,1.5) rectangle (12,-0.5);
      \node[gray] at (6,-0.25) {\textbf{Preliminaries} \quad Chapter \ref*{sec-preliminaries}};
      \draw[gray]  (0.1,1.4) rectangle  node {Behavior \& equivalences} (3.95,0.1);
      \draw[gray]  (4.05,1.4) rectangle  node {Modal logics}
      (7.95,0.1);
      \draw[gray]  (8.05,1.4) rectangle  node {Games} (11.9,0.1);

      \draw[gray, thick]  (1,3) rectangle  node {\textbf{Strong spectrum} \\ \textbf{\& spectroscopy problem} \\ Chapter~\ref*{sec-spectrum}} (8,1.5);
      
      \draw[thick] (8,1.5) -- (8,3) -- (6,3) -- (6,4.5) -- (12,4.5) -- (12,1.5) -- cycle;
      \node at (9,3.75) {\textbf{Approach: Equivalence} \\ \textbf{problems as energy games} \\ Chapter \ref{sec-approach}};
      \draw (8.1,2.9) rectangle node {Energy games} (11.9,1.6);

      \draw[thick] (2,3) -- (2,6) -- (12,6) -- (12,4.5) -- (6,4.5) -- (6,3) -- cycle;
      \node at (4,4.5) {\textbf{Spectroscopy of} \\ \textbf{the strong spectrum} \\ Chapter \ref{sec-strong-spectroscopy}};
      \draw (8.1,5.9) rectangle node {Individual checkers} (11.9,4.6);

      %\draw[thick] (0,1.5) -- (0,6) -- (2,6) -- (2,3) -- (1,3) -- (1,1.5) -- cycle;
      %\node at (1,4.5) {\textbf{Weak} \\ \textbf{spectrum} \\ Chapter \ref{sec-weak-spectrum}};

      %\draw[thick] (0,7.5) rectangle node {\textbf{Weak spectroscopy} \\ Chapter \ref{sec-weak-spectorscopy}} (12,6);
    \end{tikzpicture}
  \end{adjustbox}
  \renewcommand{\partfigure}{\partfigurethree}
}
\newcommand{\partfigurethree}{
  \begin{adjustbox}{max width=.8\textwidth, center}
    \begin{tikzpicture}[rounded corners = 5, outer sep=1mm]
    \tikzstyle{every node}=[font=\normalsize, align=center]
      \draw[thick, gray, fill=gray] (-.5,-.7) rectangle (12.5,-.3); 
      \draw[thick, fill=white] (0,1.5) rectangle (12,-0.5);
      \node[gray] at (6,-0.25) {\textbf{Preliminaries} \quad Chapter \ref*{sec-preliminaries}};
      \draw[gray]  (0.1,1.4) rectangle  node {Behavior \& equivalences} (3.95,0.1);
      \draw[gray]  (4.05,1.4) rectangle  node {Modal logics}
      (7.95,0.1);
      \draw[gray]  (8.05,1.4) rectangle  node {Games} (11.9,0.1);

      \draw[gray, thick]  (1,3) rectangle  node {\textbf{Strong spectrum} \\ \textbf{\& spectroscopy problem} \\ Chapter~\ref*{sec-spectrum}} (8,1.5);
      
      \draw[gray, thick] (8,1.5) -- (8,3) -- (6,3) -- (6,4.5) -- (12,4.5) -- (12,1.5) -- cycle;
      \node[gray] at (9,3.75) {\textbf{Approach: Equivalence} \\ \textbf{problems as energy games} \\ Chapter \ref*{sec-approach}};
      \draw[gray] (8.1,2.9) rectangle node {Energy games} (11.9,1.6);

      \draw[gray, thick] (2,3) -- (2,6) -- (12,6) -- (12,4.5) -- (6,4.5) -- (6,3) -- cycle;
      \node[gray] at (4,4.5) {\textbf{Spectroscopy of} \\ \textbf{the strong spectrum} \\ Chapter \ref*{sec-strong-spectroscopy}};
      \draw[gray] (8.1,5.9) rectangle node {Individual checkers} (11.9,4.6);

      \draw[thick] (0,1.5) -- (0,6) -- (2,6) -- (2,3) -- (1,3) -- (1,1.5) -- cycle;
      \node at (1,4.5) {\textbf{Weak} \\ \textbf{spectrum} \\ Chapter \ref{sec-weak-spectrum}};

      \draw[thick] (0,7.5) rectangle node {\textbf{Weak spectroscopy} \\ Chapter \ref{sec-weak-spectorscopy}} (12,6);
    \end{tikzpicture}
  \end{adjustbox}
  \renewcommand{\partfigure}{}
}

\makeatletter
\pretocmd{\@endpart}{\vfil\partfigure}{}{}
\makeatother
```

